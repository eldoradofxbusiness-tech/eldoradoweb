---
import Heading from "../../ui/Heading.astro";
import Text from "../../ui/Text.astro";
import Badge from "../../ui/Badge.astro";

interface Props {
  title: string;
  description: string;
  image: string;
  label?: string;
  class?: string;
  isLarge?: boolean;
}

const { title, description, image, label, class: extraClass = "", isLarge = false } = Astro.props;
---

<div
  class:list={[
    "card-glow-hover group relative overflow-hidden rounded-2xl border border-white/10 bg-[#0b0f1a] p-6 md:p-8 transition-all duration-500 hover:border-yellow-400/30",
    // isLarge: En mÃ³viles se ve vertical, en pantallas grandes (lg) se pone de lado
    isLarge ? "flex flex-col lg:flex-row items-stretch lg:items-center gap-6 lg:gap-10" : "flex flex-col gap-6",
    extraClass
  ]}
>
  <div class="grid-bg absolute inset-0 opacity-[0.08] pointer-events-none"></div>

  <div class="flex-1 z-20 flex flex-col justify-center">
    <Badge variant="gold" class="w-fit mb-4 uppercase tracking-[0.15em] text-[8px] md:text-[9px]">
      {label}
    </Badge> 
    
    <Heading 
      level={isLarge ? 2 : 3} 
      class:list={[
        "mb-3 uppercase tracking-wider",
        isLarge ? "text-xl md:text-3xl" : "text-lg md:text-xl"
      ]}
    >
      {title}
    </Heading>
    
    <Text muted class="text-sm border-l-2 border-yellow-400/30 pl-4 leading-relaxed italic">
      {description}
    </Text> 
  </div>

  <div class:list={[
    "relative shrink-0",
    isLarge ? "w-full lg:w-72 h-44 md:h-64 lg:h-72" : "w-full h-40 md:h-48"
  ]}>
    <div class="absolute inset-0 bg-yellow-400/15 blur-[40px] rounded-full opacity-50 group-hover:opacity-80 transition-opacity"></div> 
    
    <div class="relative w-full h-full rounded-xl overflow-hidden border border-white/10">
       <img 
         src={image} 
         alt={title}
         class="w-full h-full object-cover grayscale group-hover:grayscale-0 scale-105 group-hover:scale-100 transition-all duration-700 opacity-80 group-hover:opacity-100" 
       /> 
       <div class="absolute inset-0 z-20 bg-gradient-to-t from-[#0b0f1a]/80 via-transparent to-transparent"></div>
    </div>
  </div>
</div>