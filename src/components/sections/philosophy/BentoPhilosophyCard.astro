---
// src/components/ui/BentoCard.astro
import Heading from "../../ui//Heading.astro";
import Text from "../../ui//Text.astro";
import Badge from "../../ui//Badge.astro";

interface Props {
  title: string;
  description: string;
  image: string;
  label?: string;
  class?: string;
  isLarge?: boolean;
}

const { 
  title, 
  description, 
  image, 
  label = "Active Node", 
  class: extraClass = "",
  isLarge = false 
} = Astro.props;
---
<div
  class:list={[
    "card-glow-hover group relative overflow-hidden rounded-2xl border border-white/10 bg-[#0b0f1a] p-8 transition-all duration-500 hover:border-yellow-400/30",
    isLarge ? "flex flex-col lg:flex-row items-center gap-10" : "flex flex-col justify-between gap-8",
    extraClass
  ]}
>
  <div class="grid-bg absolute inset-0 opacity-[0.08] pointer-events-none"></div>

  <div class="flex-1 z-20">
    <Badge variant="gold" class="mb-6 uppercase tracking-[0.15em] text-[9px]">
      {label}
    </Badge> 
    
    <Heading level={isLarge ? 2 : 3} accent={isLarge} class="mb-4 uppercase tracking-wider">
      {title}
    </Heading>
    
    <Text muted class="text-sm border-l-2 border-yellow-400/30 pl-4 leading-relaxed italic">
      {description}
    </Text> 
  </div>

  <div class:list={[
    "relative shrink-0 overflow-visible",
    isLarge ? "w-64 h-64" : "w-full h-48"
  ]}>
    <div class="absolute inset-0 bg-yellow-400/20 blur-[40px] rounded-full opacity-50 group-hover:opacity-100 transition-opacity animate-pulse"></div> 
    <div class="relative w-full h-full rounded-xl overflow-hidden border border-white/10 shadow-2xl">
       <div class="absolute inset-0 z-10 bg-yellow-400/10 mix-blend-color group-hover:bg-transparent transition-colors duration-700"></div>
       
       <img 
         src={image} 
         alt={title}
         class="w-full h-full object-cover grayscale group-hover:grayscale-0 scale-110 group-hover:scale-100 transition-all duration-700 opacity-70 group-hover:opacity-100" 
       /> 
       
       <div class="absolute inset-0 z-20 bg-gradient-to-t from-[#0b0f1a] via-transparent to-transparent opacity-60"></div>
    </div>

    <div class="absolute -top-2 -left-2 w-4 h-4 border-t-2 border-l-2 border-yellow-400/40 z-30 group-hover:border-yellow-400 transition-colors"></div>
  </div>
</div>
<style>
  
  .card-glow-hover {
    --x: 50%;
    --y: 50%;
  }
</style>